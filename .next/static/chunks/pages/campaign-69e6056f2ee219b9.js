(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{67273:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaign",function(){return n(24860)}])},44543:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(85893),i=(n(67294),n(42293)),o=n(87357),a=n(10155),s=n(15861),u=n(41664);function c(){return(0,r.jsx)(o.Z,{sx:{flexGrow:1},children:(0,r.jsx)(i.Z,{position:"static",children:(0,r.jsx)(a.Z,{children:(0,r.jsx)(s.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:(0,r.jsx)(u.default,{style:{"text-decoration":"none"},underline:"none",href:"/",children:"BLOCKSTAR"})})})})})}var l=n(55113);var p=function(){return(0,r.jsx)("footer",{className:"footer",children:(0,r.jsxs)(l.Z,{elevation:1,children:[(0,r.jsx)(s.Z,{variant:"h5",component:"h3",children:"WEB3 REACT APP"}),(0,r.jsx)(s.Z,{component:"p",children:"@2022 All right reserved"})]})})},d=function(e){return(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)(c,{}),(0,r.jsx)("div",{className:"layout-content",children:e.children}),(0,r.jsx)(p,{})]})}},1508:function(e,t,n){"use strict";var r,i=n(3283),o=n.n(i),a=n(47969);if("undefined"!==typeof window.ethereum)window.ethereum.request({method:"eth_requestAccounts"}),r=new(o())(window.ethereum);else{console.log("next short enter easy minute absorb plunge high dial lawn space pause");var s=new a({mnemonic:{phrase:"next short enter easy minute absorb plunge high dial lawn space pause"},providerOrUrl:"https://rinkeby.infura.io/v3/1c9a83f2f28b493cba9b36fad7ce37a9"});r=new(o())(s)}t.Z=r},24860:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return E},default:function(){return R}});var r=n(85893),i=n(67294),o=n(34051),a=n.n(o),s=n(66242),u=n(15861),c=n(83321),l=n(44267),p=n(62023),d=n(1508),f=JSON.parse('{"Mt":[{"inputs":[{"internalType":"uint256","name":"_min_contribution","type":"uint256"},{"internalType":"address","name":"_manager","type":"address"},{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_description","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"approvers","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"bool","name":"vote","type":"bool"}],"name":"aproveRequest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"contribute","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"count_requests","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"description","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_value","type":"uint256"},{"internalType":"address","name":"_recipent","type":"address"}],"name":"makeRequest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"manager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minContribution","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"requests","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address","name":"recipent","type":"address"},{"internalType":"uint256","name":"vote_yes","type":"uint256"},{"internalType":"bool","name":"complete","type":"bool"}],"stateMutability":"view","type":"function"}]}');function m(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var y=function(e){var t=function(){var t,n=(t=a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setPending(!0),t.next=3,d.Z.eth.getAccounts();case 3:return n=t.sent,t.next=6,new d.Z.eth.Contract(f.Mt,e.contract);case 6:return r=t.sent,console.log(r),t.prev=8,t.next=11,r.methods.aproveRequest(e.id-14,!0).send({from:n[0]});case 11:e.setok(!0),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(8),console.error("error"),e.setok(!1),e.setPending(!1);case 19:e.setPending(!1);case 20:case"end":return t.stop()}}),t,null,[[8,14]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){m(o,r,i,a,s,"next",e)}function s(e){m(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,r.jsxs)(s.Z,{sx:{minWidth:100},children:[(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.Z,{sx:{fontSize:14},color:"text.primary",gutterBottom:!0,children:e.description}),(0,r.jsx)(u.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Ammount: "+e.value}),(0,r.jsx)(u.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Aproved: "+e.votes}),(0,r.jsx)(u.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Complete: "+e.complete})]}),(0,r.jsx)(p.Z,{children:(0,r.jsx)("a",{children:(0,r.jsx)(c.Z,{size:"small",onClick:function(){return t()},children:"Aprove request"})})})]})},h=n(87357),x=n(98456),v=n(76798),b=n(15568),g=n(11163),j=n(44543),w=n(86886),Z=n(86983),T=n(94054),A=n(37058),S=n(87109);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:300,height:300,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},M=function(e){var t,n=(0,g.useRouter)(),o=C(i.useState(!1),2),s=o[0],l=o[1],p=function(){return l(!1)},m=C(i.useState({amount:0}),2),y=m[0],x=m[1],v=C(i.useState({amount:!1}),2),b=v[0],j=v[1],w=function(){var e,t=(e=a().mark((function e(t){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,i=0,console.log(y),0===y.amount&&(r=!0,i++),!i){e.next=9;break}j({amount:r}),e.next=33;break;case 9:return e.next=11,d.Z.eth.getAccounts();case 11:return o=e.sent,e.prev=12,t.setPending(!0),p(),e.next=17,new d.Z.eth.Contract(f.Mt,t.contract);case 17:return s=e.sent,console.log(y.amount),e.next=21,s.methods.contribute().send({from:o[0],value:y.amount});case 21:return e.next=23,n.replace(n.asPath);case 23:t.setPending(!1),t.setok(!0),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(12),console.error(e.t0),t.setPending(!1);case 31:j({amount:!1}),x({amount:0});case 33:case"end":return e.stop()}}),e,null,[[12,27]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){P(o,r,i,a,s,"next",e)}function s(e){P(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,r.jsxs)("div",{style:{textAlign:"bttom"},children:[(0,r.jsx)(c.Z,{variant:"contained",onClick:function(){return l(!0)},children:"Contribute"}),(0,r.jsx)(Z.Z,{open:s,onClose:p,children:(0,r.jsxs)(h.Z,{sx:O,children:[(0,r.jsx)(u.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Contribute"}),(0,r.jsx)(u.Z,{id:"modal-modal-description",sx:{mt:2}}),(0,r.jsx)("span",{children:"ammount"}),(0,r.jsx)("br",{}),(0,r.jsx)(T.Z,{variant:"outlined",children:(0,r.jsx)(A.Z,{error:b.amount,id:"ammount",type:"number",onChange:(t="amount",function(e){x(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}({},y,k({},t,e.target.value)))}),endAdornment:(0,r.jsx)(S.Z,{position:"end",children:"wei"})})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(c.Z,{onClick:function(){w(e)},children:"Contribute"})]})})]})};function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=!0,R=function(e){var t=(0,r.jsx)(i.Fragment,{children:(0,r.jsx)(h.Z,{sx:{display:"flex"},children:(0,r.jsx)(x.Z,{})})}),n=q(i.useState(!1),2),o=n[0],a=n[1],s=q(i.useState(!1),2),u=s[0],c=s[1],l=function(e,t){"clickaway"!==t&&c(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(j.A,{children:["manager: "+e.manager,(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{float:"left",marginRight:"20px"},children:(0,r.jsx)("span",{children:(0,r.jsx)("h2",{children:e.name})})}),(0,r.jsx)("div",{style:{height:"20px"}}),(0,r.jsx)("div",{style:{textAlign:"bottom"},children:(0,r.jsx)(M,{setPending:a,setok:c,contract:e.contract})}),(0,r.jsx)("div",{style:{clear:"both"},children:(0,r.jsx)("b",{children:"Colected: "+e.balance+" wei"})})]}),(0,r.jsx)("hr",{}),(0,r.jsx)("h4",{children:e.description}),(0,r.jsx)("h1",{children:"Requests"}),(0,r.jsx)("div",{children:(0,r.jsx)(w.ZP,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:JSON.parse(e.requests).map((function(t,n){return(0,r.jsx)(w.ZP,{item:!0,xs:2,sm:4,md:4,children:(0,r.jsx)(y,{description:t.description,value:t.value,recipent:t.recipent,votes:t.vote_yes,complete:t.complete,contract:e.contract,setPending:a,setok:c,id:t.id})},n)}))})})]}),(0,r.jsx)(v.Z,{open:o,autoHideDuration:6e3,message:"Transaction is beign processed",action:t}),(0,r.jsx)(v.Z,{open:u,autoHideDuration:6e3,onClose:l,children:(0,r.jsx)(b.Z,{onClose:l,severity:"success",sx:{width:"100%"},children:"Transaction succeeded"})})]})}},27453:function(){},46601:function(){},89214:function(){},71922:function(){},2363:function(){},15100:function(){},27790:function(){},52361:function(){},94616:function(){},6567:function(){},88924:function(){}},function(e){e.O(0,[482,714,717,774,888,179],(function(){return t=67273,e(e.s=t);var t}));var t=e.O();_N_E=t}]);